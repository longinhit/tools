# 简介

在有些公司中，为了安全考虑，在向服务器传输文件的时候，需要通过跳板机中转文件，在这种情况下，上传一个文件到服务器需要两个步骤：1.通过rz命令将文件上传到跳板机 2.登录跳板机，然后在跳板机上通过scp命令将上传的文件传输到最终的目标服务器。利用这个方式上传文件夹时，需要将文件夹压缩打包，而且两个步骤比较繁琐。该脚本的功能是，向服务器传输文件时，将跳板机中转文件的过程自动化，最终效果感觉不出跳板机的存在。

## myscp 

修改该文件中，登录relay用到的用户名和密码，以及登录服务器是用到的用户名和密码。注意修改自动输入密码和停止交互是期望出现的字符。

## 原理

是将以下命令自动化
```
scp -o ProxyCommand='ssh -q 用户名@A.A.A.A -W %h:%p' helloWord-1.0-SNAPSHOT.jar 用户名@B.B.B.B:/home/worker/
```

用户名@A.A.A.A : ssh 登录relay是的用户名和relay机器地址

用户名@B.B.B.B : scp 到目标服务器的用户名和服务器地址


